'use strict';

var hydrogenReact = require('@shopify/hydrogen-react');
var serverRuntime = require('@remix-run/server-runtime');
var react = require('react');
var react$1 = require('@remix-run/react');
var jsxRuntime = require('react/jsx-runtime');
var nn = require('content-security-policy-builder');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var nn__default = /*#__PURE__*/_interopDefault(nn);

var Ot=Object.defineProperty;var bt=(e,t)=>()=>(e&&(t=e(e=0)),t);var Pt=(e,t)=>{for(var r in t)Ot(e,r,{get:t[r],enumerable:!0});};var st={};Pt(st,{default:()=>ot,logSeoTags:()=>at});function ot({headTags:e}){return at(e),null}function at(e){console.log(" "),console.log("%cSEO Meta Tags",`${Zt}`),console.log(" "),e.forEach(t=>{if(t.tag==="script"){if(console.log("%c\u2022 JSON LD ",Te),t.children)try{console.table(JSON.parse(t.children),["name","content"]);}catch{console.log(t.children);}}else {if(console.log(`%c\u2022 ${t.tag} `,Te),t.children)if(typeof t.children=="string")console.log(`\u21B3 ${t.children}`);else try{Object.entries(JSON.parse(t.children)).map(([r,n])=>console.log(`\u21B3 ${n}`));}catch{console.log(t.children);}if(t.props.property==="og:image:url"){let r=t.props.content;er(r).then(n=>{let o=`font-size: 400px; padding: 10px; background: white url(${n}) no-repeat center; background-size: contain;`;console.log("%c\u2022 Share image preview",Te),console.log("%c  ",o),console.log(`\u21B3 ${r}`);}).catch(n=>{console.error(n);});}Object.entries(t.props).map(([r,n])=>{console.log(`\u21B3 ${r} \u2192 ${n}`);});}console.log(" ");});}async function er(e){let n=await(await(await fetch(e)).blob()).arrayBuffer();return `data:image/png;base64,${tr(n)}`}function tr(e){let t="",r=new Uint8Array(e),n=r.byteLength;for(let o=0;o<n;o++)t+=String.fromCharCode(r[o]);return btoa(t)}var Te,Zt,it=bt(()=>{Te="text-transform: uppercase;",Zt="text-transform: uppercase; font-weight: bold; text-transform: uppercase;font-weight: bold";});function Ge(e){let t=Array.isArray(e)?e:[e],r="";for(let n of t)n!=null&&(typeof n=="object"?r+=JSON.stringify(n):r+=n.toString());return encodeURIComponent(r)}var G="public",Dt="private",oe="no-store",Ve={maxAge:"max-age",staleWhileRevalidate:"stale-while-revalidate",sMaxAge:"s-maxage",staleIfError:"stale-if-error"};function _(e){let t=[];return Object.keys(e).forEach(r=>{r==="mode"?t.push(e[r]):Ve[r]&&t.push(`${Ve[r]}=${e[r]}`);}),t.join(", ")}function ae(){return {mode:oe}}function se(e){if(e?.mode&&e?.mode!==G&&e?.mode!==Dt)throw Error("'mode' must be either 'public' or 'private'")}function D(e){return se(e),{mode:G,maxAge:1,staleWhileRevalidate:9,...e}}function ie(e){return se(e),{mode:G,maxAge:3600,staleWhileRevalidate:82800,...e}}function E(e){return se(e),{mode:G,maxAge:1,staleWhileRevalidate:86399,...e}}function ce(e){return e}function b(e){return String(e).includes("__proto__")?JSON.parse(e,Et):JSON.parse(e)}function Et(e,t){if(e!=="__proto__")return t}function V(e,t){return e&&t?{...e,...t}:e||E()}function pe(e){return _(V(e))}async function Ut(e,t){if(!e)return;let r=await e.match(t);if(!r){return}return r}async function Lt(e,t,r,n){if(!e)return;let o=V(n),s=pe(V(o,{maxAge:(o.maxAge||0)+(o.staleWhileRevalidate||0)})),a=pe(V(o));r.headers.set("cache-control",s),r.headers.set("real-cache-control",a),r.headers.set("cache-put-date",new Date().toUTCString()),await e.put(t,r);}async function Mt(e,t){e&&await e.delete(t);}function vt(e,t){let r=e.headers.get("real-cache-control"),n=0;if(r){let s=r.match(/max-age=(\d*)/);s&&s.length>1&&(n=parseFloat(s[1]));}return [(new Date().valueOf()-new Date(t).valueOf())/1e3,n]}function _t(e,t){let r=t.headers.get("cache-put-date");if(!r)return !1;let[n,o]=vt(t,r),s=n>o;return s}var B={get:Ut,set:Lt,delete:Mt,generateDefaultCacheControlHeader:pe,isStale:_t};function ue(e){return `https://shopify.dev/?${e}`}function Nt(e){return e||E()}async function Be(e,t){if(!e)return;let r=ue(t),n=new Request(r),o=await B.get(e,n);if(!o)return;let s=await o.text();try{return [b(s),o]}catch{return [s,o]}}async function de(e,t,r,n){if(!e)return;let o=ue(t),s=new Request(o),a=new Response(JSON.stringify(r));await B.set(e,s,a,Nt(n));}function je(e,t){return B.isStale(new Request(ue(e)),t)}function kt(e,t){return [e,{status:t.status,statusText:t.statusText,headers:Array.from(t.headers.entries())}]}function We([e,t]){return [e,new Response(e,t)]}var Ke=e=>!e?.errors,le=new Set;async function fe(e,t,{strategy:r=D(),cacheInstance:n,shouldCacheResult:o=()=>!0,waitUntil:s,debugInfo:a}){let p=Ge([...typeof e=="string"?[e]:e]),u=void 0;if(!n||!r||r.mode===oe){let g=await t();return g}let d=await Be(n,p);if(d){let[g,l]=d,h=je(p,l)?"STALE":"HIT";if(!le.has(p)&&h==="STALE"){le.add(p);let y=Promise.resolve().then(async()=>{let f=Date.now();try{let m=await t();o(m)&&(await de(n,p,m,r),u?.("PUT",f));}catch(m){m.message&&(m.message="SWR in sub-request failed: "+m.message),console.error(m);}finally{le.delete(p);}});s?.(y);}return g}let c=await t();if(o(c)){let g=Promise.resolve().then(async()=>{await de(n,p,c,r);});s?.(g);}return c}async function ze(e,t,{cacheInstance:r,cache:n,cacheKey:o=[e,t],shouldCacheResponse:s=()=>!0,waitUntil:a,returnType:i="json",debugInfo:p}={}){return !n&&(!t.method||t.method==="GET")&&(n=D()),fe(o,async()=>{let u=await fetch(e,t),d;try{d=await u[i]();}catch{try{d=await u.text();}catch{throw new Error(`Storefront API response code: ${u.status} (Request Id: ${u.headers.get("x-request-id")})`)}}return kt(d,u)},{cacheInstance:r,waitUntil:a,strategy:n??null,debugInfo:p,shouldCacheResult:u=>s(...We(u))}).then(We)}var ge="Custom-Storefront-Request-Group-ID",ye="X-Shopify-Storefront-Access-Token",me="X-SDK-Variant",he="X-SDK-Variant-Source",Ce="X-SDK-Version";function Je(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`weak-${Math.random().toString(16).substring(2)}`}var N="2023.10.4";function U(e){return e.replace(/\s*#.*$/gm,"").replace(/\s+/gm," ").trim()}var qt=/(^|}\s)query[\s({]/im,Ft=/(^|}\s)mutation[\s({]/im;function j(e,t){if(!qt.test(e))throw new Error(`[h2:error:${t}] Can only execute queries`)}function W(e,t){if(!Ft.test(e))throw new Error(`[h2:error:${t}] Can only execute mutations`)}function L({response:e,errors:t,type:r,query:n,queryVariables:o,ErrorConstructor:s=Error,client:a="storefront"}){let i=e.headers.get("x-request-id"),p=(typeof t=="string"?t:t?.map?.(u=>u.message).join(`
`))||`API response error: ${e.status}`;throw new s(`[h2:error:${a}.${r}] `+p+(i?` - Request ID: ${i}`:""),{cause:JSON.stringify({errors:t,requestId:i})})}var Ze=class extends Error{},Bt=e=>e instanceof Ze,jt={language:"EN",country:"US"};function Kn(e){let {storefrontHeaders:t,cache:r,waitUntil:n,i18n:o,storefrontId:s,...a}=e,{getPublicTokenHeaders:p,getPrivateTokenHeaders:u,getStorefrontApiUrl:d,getShopifyDomain:c}=hydrogenReact.createStorefrontClient(a),l=(a.privateStorefrontToken?u:p)({contentType:"json",buyerIp:t?.buyerIp||""});if(l[ge]=t?.requestGroupId||Je(),s&&(l[hydrogenReact.SHOPIFY_STOREFRONT_ID_HEADER]=s),(l["user-agent"]=`Hydrogen ${N}`),t&&t.cookie){let f=hydrogenReact.getShopifyCookies(t.cookie??"");f[hydrogenReact.SHOPIFY_Y]&&(l[hydrogenReact.SHOPIFY_STOREFRONT_Y_HEADER]=f[hydrogenReact.SHOPIFY_Y]),f[hydrogenReact.SHOPIFY_S]&&(l[hydrogenReact.SHOPIFY_STOREFRONT_S_HEADER]=f[hydrogenReact.SHOPIFY_S]);}let h=JSON.stringify({"content-type":l["content-type"],"user-agent":l["user-agent"],[me]:l[me],[he]:l[he],[Ce]:l[Ce],[ye]:l[ye]});async function y({query:f,mutation:m,variables:C,cache:A,headers:I=[],storefrontApiVersion:M}){let te=I instanceof Headers?Object.fromEntries(I.entries()):Array.isArray(I)?Object.fromEntries(I):I;f=f??m;let O={...C};o&&(!C?.country&&/\$country/.test(f)&&(O.country=o.country),!C?.language&&/\$language/.test(f)&&(O.language=o.language));let v=d({storefrontApiVersion:M}),H=JSON.stringify({query:f,variables:O}),Q={method:"POST",headers:{...l,...te},body:H},At=[v,Q.method,h,Q.body],[re,$e]=await ze(v,Q,{cacheInstance:m?void 0:r,cache:A||E(),cacheKey:At,shouldCacheResponse:Ke,waitUntil:n,debugInfo:{graphql:H,requestId:Q.headers[ge],purpose:t?.purpose}}),He={response:$e,type:m?"mutation":"query",query:f,queryVariables:O,errors:void 0};if(!$e.ok){let ne;try{ne=b(re);}catch{ne=[{message:re}];}L({...He,errors:ne});}let{data:wt,errors:Qe}=re;return Qe?.length&&L({...He,errors:Qe,ErrorConstructor:Ze}),wt}return {storefront:{query:(f,m)=>{f=U(f),j(f,"storefront.query");let C=y({...m,query:f});return C.catch(()=>{}),C},mutate:(f,m)=>{f=U(f),W(f,"storefront.mutate");let C=y({...m,mutation:f});return C.catch(()=>{}),C},cache:r,CacheNone:ae,CacheLong:ie,CacheShort:D,CacheCustom:ce,generateCacheControlHeader:_,getPublicTokenHeaders:p,getPrivateTokenHeaders:u,getShopifyDomain:c,getApiUrl:d,isApiError:Bt,i18n:o??jt}}}function et(e,t){let r=e.headers?.get?.(t)??e.headers?.[t];return typeof r=="string"?r:null}function tt(e){return e?{requestId:et(e,"request-id"),purpose:et(e,"purpose")}:{}}function eo({cache:e,waitUntil:t,request:r}){return function(o,s,a){return fe(o,a,{strategy:s,cacheInstance:e,waitUntil:t,debugInfo:tt(r)})}}var Se=class{#e;constructor(){this.#e=new Map;}add(t){throw new Error("Method not implemented. Use `put` instead.")}addAll(t){throw new Error("Method not implemented. Use `put` instead.")}matchAll(t,r){throw new Error("Method not implemented. Use `match` instead.")}async put(t,r){if(t.method!=="GET")throw new TypeError("Cannot cache response to non-GET request.");if(r.status===206)throw new TypeError("Cannot cache response to a range request (206 Partial Content).");if(r.headers.get("vary")?.includes("*"))throw new TypeError("Cannot cache response with 'Vary: *' header.");this.#e.set(t.url,{body:new Uint8Array(await r.arrayBuffer()),status:r.status,headers:[...r.headers],timestamp:Date.now()});}async match(t){if(t.method!=="GET")return;let r=this.#e.get(t.url);if(!r)return;let{body:n,timestamp:o,...s}=r,a=new Headers(s.headers),i=a.get("cache-control")||a.get("real-cache-control")||"",p=parseInt(i.match(/max-age=(\d+)/)?.[1]||"0",10),u=parseInt(i.match(/stale-while-revalidate=(\d+)/)?.[1]||"0",10),d=(Date.now()-o)/1e3;if(d>p+u){this.#e.delete(t.url);return}let g=d>p;return a.set("cache",g?"STALE":"HIT"),a.set("date",new Date(o).toUTCString()),new Response(n,{status:s.status??200,headers:a})}async delete(t){return this.#e.has(t.url)?(this.#e.delete(t.url),!0):!1}keys(t){let r=[];for(let n of this.#e.keys())(!t||t.url===n)&&r.push(new Request(n));return Promise.resolve(r)}};async function Wt(e){let{storefront:t,request:r,noAdminRedirect:n,response:o=new Response("Not Found",{status:404})}=e,{pathname:s,search:a}=new URL(r.url),i=s+a;if(s==="/admin"&&!n)return serverRuntime.redirect(`${t.getShopifyDomain()}/admin`);try{let{urlRedirects:p}=await t.query(zt,{variables:{query:"path:"+i}}),u=p?.edges?.[0]?.node?.target;if(u)return new Response(null,{status:301,headers:{location:u}});let d=new URLSearchParams(a),c=d.get("return_to")||d.get("redirect");if(c){if(Kt(r.url,c))return serverRuntime.redirect(c);console.warn(`Cross-domain redirects are not supported. Tried to redirect from ${i} to ${c}`);}}catch(p){console.error(`Failed to fetch redirects from Storefront API for route ${i}`,p);}return o}function Kt(e,t){try{return new URL(e).origin===new URL(t,e).origin}catch{return !1}}var zt=`#graphql
  query redirects($query: String) {
    urlRedirects(first: 1, query: $query) {
      edges {
        node {
          target
        }
      }
    }
  }
`;var Jt=async function({context:t}){let r=t?.storefront;if(!r)throw new Error("GraphiQL: Hydrogen's storefront client must be injected in the loader context.");let n=r.getApiUrl(),o=r.getPublicTokenHeaders()["X-Shopify-Storefront-Access-Token"],s="https://avatars.githubusercontent.com/u/12972006?s=48&v=4",a=String.raw;return new Response(a`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <title>GraphiQL</title>
          <link rel="icon" type="image/x-icon" href="${s}" />
          <style>
            body {
              height: 100%;
              margin: 0;
              width: 100%;
              overflow: hidden;
              background-color: hsl(219, 29%, 18%);
            }

            #graphiql {
              height: 100vh;
            }

            #graphiql > .placeholder {
              color: slategray;
              width: fit-content;
              margin: 40px auto;
              font-family: Arial;
            }
          </style>

          <script
            crossorigin
            src="https://unpkg.com/react@18/umd/react.development.js"
          ></script>
          <script
            crossorigin
            src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
          ></script>
          <link
            rel="stylesheet"
            href="https://unpkg.com/graphiql@3/graphiql.min.css"
          />
          <link
            rel="stylesheet"
            href="https://unpkg.com/@graphiql/plugin-explorer/dist/style.css"
          />
        </head>

        <body>
          <div id="graphiql">
            <div class="placeholder">Loading GraphiQL...</div>
          </div>

          <script
            src="https://unpkg.com/graphiql@3/graphiql.min.js"
            type="application/javascript"
            crossorigin="anonymous"
          ></script>
          <script
            src="https://unpkg.com/@graphiql/plugin-explorer/dist/index.umd.js"
            type="application/javascript"
            crossorigin="anonymous"
          ></script>

          <script>
            const windowUrl = new URL(document.URL);

            let query = '{ shop { name } }';
            if (windowUrl.searchParams.has('query')) {
              query = decodeURIComponent(
                windowUrl.searchParams.get('query') ?? query,
              );
            }

            // Prettify query
            query = GraphiQL.GraphQL.print(GraphiQL.GraphQL.parse(query));

            let variables;
            if (windowUrl.searchParams.has('variables')) {
              variables = decodeURIComponent(
                windowUrl.searchParams.get('variables') ?? '',
              );
            }

            // Prettify variables
            if (variables) {
              variables = JSON.stringify(JSON.parse(variables), null, 2);
            }

            const root = ReactDOM.createRoot(
              document.getElementById('graphiql'),
            );
            root.render(
              React.createElement(GraphiQL, {
                fetcher: GraphiQL.createFetcher({
                  url: '${n}',
                  headers: {
                    'X-Shopify-Storefront-Access-Token': '${o}',
                  },
                }),
                defaultEditorToolsVisibility: true,
                query,
                variables,
                plugins: [GraphiQLPluginExplorer.explorerPlugin()],
              }),
            );
          </script>
        </body>
      </html>
    `,{status:200,headers:{"content-type":"text/html"}})};var w="Error in SEO input: ",K={title:{validate:e=>{if(typeof e!="string")throw new Error(w.concat("`title` should be a string"));if(typeof e=="string"&&e.length>120)throw new Error(w.concat("`title` should not be longer than 120 characters"));return e}},description:{validate:e=>{if(typeof e!="string")throw new Error(w.concat("`description` should be a string"));if(typeof e=="string"&&e.length>155)throw new Error(w.concat("`description` should not be longer than 155 characters"));return e}},url:{validate:e=>{if(typeof e!="string")throw new Error(w.concat("`url` should be a string"));if(typeof e=="string"&&!e.startsWith("http"))throw new Error(w.concat("`url` should be a valid URL"));return e}},handle:{validate:e=>{if(typeof e!="string")throw new Error(w.concat("`handle` should be a string"));if(typeof e=="string"&&!e.startsWith("@"))throw new Error(w.concat("`handle` should start with `@`"));return e}}};function nt(e){let t=[];for(let r of Object.keys(e))switch(r){case"title":{let n=z(K.title,e.title),o=Yt(e?.titleTemplate,n);if(!o)break;t.push(T("title",{title:o}),T("meta",{property:"og:title",content:o}),T("meta",{name:"twitter:title",content:o}));break}case"description":{let n=z(K.description,e.description);if(!n)break;t.push(T("meta",{name:"description",content:n}),T("meta",{property:"og:description",content:n}),T("meta",{name:"twitter:description",content:n}));break}case"url":{let n=z(K.url,e.url);if(!n)break;let o=n.split("?")[0];t.push(T("link",{rel:"canonical",href:o}),T("meta",{property:"og:url",content:o}));break}case"handle":{let n=z(K.handle,e.handle);if(!n)break;t.push(T("meta",{name:"twitter:site",content:n}),T("meta",{name:"twitter:creator",content:n}));break}case"media":{let n,o=Ie(e.media);for(let s of o)if(typeof s=="string"&&t.push(T("meta",{name:"og:image",content:s})),s&&typeof s=="object"){let a=s.type||"image",i=s?{url:s?.url,secure_url:s?.url,type:Xt(s.url),width:s?.width,height:s?.height,alt:s?.altText}:{};for(let p of Object.keys(i))i[p]&&(n=i[p],t.push(T("meta",{property:`og:${a}:${p}`,content:n},i.url)));}break}case"jsonLd":{let n=Ie(e.jsonLd),o=0;for(let s of n){if(typeof s!="object")continue;let a=T("script",{type:"application/ld+json",children:JSON.stringify(s)},`json-ld-${s?.["@type"]||s?.name||o++}`);t.push(a);}break}case"alternates":{let n=Ie(e.alternates);for(let o of n){if(!o)continue;let{language:s,url:a,default:i}=o,p=s?`${s}${i?"-default":""}`:void 0;t.push(T("link",{rel:"alternate",hrefLang:p,href:a}));}break}case"robots":{if(!e.robots)break;let{maxImagePreview:n,maxSnippet:o,maxVideoPreview:s,noArchive:a,noFollow:i,noImageIndex:p,noIndex:u,noSnippet:d,noTranslate:c,unavailableAfter:g}=e.robots,l=[a&&"noarchive",p&&"noimageindex",d&&"nosnippet",c&&"notranslate",n&&`max-image-preview:${n}`,o&&`max-snippet:${o}`,s&&`max-video-preview:${s}`,g&&`unavailable_after:${g}`],h=(u?"noindex":"index")+","+(i?"nofollow":"follow");for(let y of l)y&&(h+=`,${y}`);t.push(T("meta",{name:"robots",content:h}));break}}return t.flat().sort((r,n)=>r.key.localeCompare(n.key))}function T(e,t,r){let n={tag:e,props:{},key:""};return e==="title"?(n.children=t.title,n.key=Re(n),n):e==="script"?(n.children=typeof t.children=="string"?t.children:"",n.key=Re(n,r),delete t.children,n.props=t,n):(n.props=t,Object.keys(n.props).forEach(o=>!n.props[o]&&delete n.props[o]),n.key=Re(n,r),n)}function Re(e,t){let{tag:r,props:n}=e;if(r==="title")return "0-title";if(r==="meta"){let o=n.content===t&&typeof n.property=="string"&&!n.property.endsWith("secure_url")&&"0";return [r,...[t,o],n.property||n.name].filter(a=>a).join("-")}return r==="link"?[r,n.rel,n.hrefLang||n.media].filter(s=>s).join("-").replace(/\s+/g,"-"):r==="script"?`${r}-${t}`:`${r}-${n.type}`}function Yt(e,t){if(t)return e?typeof e=="function"?e(t):e.replace("%s",t??""):t}function Xt(e){switch(e&&e.split(".").pop()){case"svg":return "image/svg+xml";case"png":return "image/png";case"gif":return "image/gif";case"swf":return "application/x-shockwave-flash";case"mp3":return "audio/mpeg";case"jpg":case"jpeg":default:return "image/jpeg"}}function Ie(e){return Array.isArray(e)?e:[e]}function z(e,t){try{return e.validate(t)}catch(r){return console.warn(r.message),t}}var ir=react.lazy(()=>Promise.resolve().then(()=>(it(),st)));function cr({debug:e}){let t=react$1.useMatches(),r=react$1.useLocation(),n=react.useMemo(()=>t.flatMap(a=>{let{handle:i,...p}=a,u={...p,...r},d=i?.seo,c=p?.data?.seo;return !d&&!c?[]:d?J(d,u):[c]}).reduce((a,i)=>{Object.keys(i).forEach(u=>!i[u]&&delete i[u]);let{jsonLd:p}=i;return p?a?.jsonLd?Array.isArray(p)?{...a,...i,jsonLd:[...a.jsonLd,...p]}:{...a,...i,jsonLd:[...a.jsonLd,p]}:{...a,...i,jsonLd:[p]}:{...a,...i}},{}),[t,r]),{html:o,loggerMarkup:s}=react.useMemo(()=>{let a=nt(n),i=a.map(u=>u.tag==="script"?react.createElement(u.tag,{...u.props,key:u.key,dangerouslySetInnerHTML:{__html:u.children}}):react.createElement(u.tag,{...u.props,key:u.key},u.children)),p=react.createElement(react.Suspense,{fallback:null},react.createElement(ir,{headTags:a}));return {html:i,loggerMarkup:p}},[n]);return react.createElement(react.Fragment,null,o,e&&s)}function J(e,...t){if(e instanceof Function)return J(e(...t),...t);let r={};return Array.isArray(e)?(r=e.reduce((n,o)=>[...n,J(o)],[]),r):e instanceof Object?(Object.entries(e).forEach(([o,s])=>{r[o]=J(s,...t);}),r):e}function fr({connection:e,children:t=()=>(console.warn("<Pagination> requires children to work properly"),null)}){let n=react$1.useNavigation().state==="loading",{endCursor:o,hasNextPage:s,hasPreviousPage:a,nextPageUrl:i,nodes:p,previousPageUrl:u,startCursor:d}=gr(e),c=react.useMemo(()=>({pageInfo:{endCursor:o,hasPreviousPage:a,hasNextPage:s,startCursor:d},nodes:p}),[o,s,a,d,p]),g=react.useMemo(()=>react.forwardRef(function(y,f){return s?react.createElement(react$1.Link,{preventScrollReset:!0,...y,to:i,state:c,replace:!0,ref:f}):null}),[s,i,c]),l=react.useMemo(()=>react.forwardRef(function(y,f){return a?react.createElement(react$1.Link,{preventScrollReset:!0,...y,to:u,state:c,replace:!0,ref:f}):null}),[a,u,c]);return t({state:c,hasNextPage:s,hasPreviousPage:a,isLoading:n,nextPageUrl:i,nodes:p,previousPageUrl:u,NextLink:g,PreviousLink:l})}function Y(e){let t=new URLSearchParams(e);return t.delete("cursor"),t.delete("direction"),t.toString()}function q(e){throw new Error(`The Pagination component requires ${"`"+e+"`"} to be a part of your query. See the guide on how to setup your query to include ${"`"+e+"`"}: https://shopify.dev/docs/custom-storefronts/hydrogen/data-fetching/pagination#setup-the-paginated-query`)}function gr(e){e.pageInfo||q("pageInfo"),typeof e.pageInfo.startCursor>"u"&&q("pageInfo.startCursor"),typeof e.pageInfo.endCursor>"u"&&q("pageInfo.endCursor"),typeof e.pageInfo.hasNextPage>"u"&&q("pageInfo.hasNextPage"),typeof e.pageInfo.hasPreviousPage>"u"&&q("pageInfo.hasPreviousPage");let t=react$1.useNavigate(),{state:r,search:n,pathname:o}=react$1.useLocation(),i=new URLSearchParams(n).get("direction")==="previous",p=react.useMemo(()=>!globalThis?.window?.__hydrogenHydrated||!r||!r?.nodes?hydrogenReact.flattenConnection(e):i?[...hydrogenReact.flattenConnection(e),...r.nodes]:[...r.nodes,...hydrogenReact.flattenConnection(e)],[r,e]),u=react.useMemo(()=>{let l=globalThis?.window?.__hydrogenHydrated,h=!l||r?.pageInfo?.startCursor===void 0?e.pageInfo.startCursor:r.pageInfo.startCursor,y=!l||r?.pageInfo?.endCursor===void 0?e.pageInfo.endCursor:r.pageInfo.endCursor,f=!l||r?.pageInfo?.hasPreviousPage===void 0?e.pageInfo.hasPreviousPage:r.pageInfo.hasPreviousPage,m=!l||r?.pageInfo?.hasNextPage===void 0?e.pageInfo.hasNextPage:r.pageInfo.hasNextPage;return r?.nodes&&(i?(h=e.pageInfo.startCursor,f=e.pageInfo.hasPreviousPage):(y=e.pageInfo.endCursor,m=e.pageInfo.hasNextPage)),{startCursor:h,endCursor:y,hasPreviousPage:f,hasNextPage:m}},[i,r,e.pageInfo.hasNextPage,e.pageInfo.hasPreviousPage,e.pageInfo.startCursor,e.pageInfo.endCursor]),d=react.useRef({params:Y(n),pathname:o});react.useEffect(()=>{window.__hydrogenHydrated=!0;},[]),react.useEffect(()=>{(Y(n)!==d.current.params||o!==d.current.pathname)&&(d.current={pathname:o,params:Y(n)},t(`${o}?${Y(n)}`,{replace:!0,preventScrollReset:!0,state:{nodes:void 0,pageInfo:void 0}}));},[o,n]);let c=react.useMemo(()=>{let l=new URLSearchParams(n);return l.set("direction","previous"),u.startCursor&&l.set("cursor",u.startCursor),`?${l.toString()}`},[n,u.startCursor]),g=react.useMemo(()=>{let l=new URLSearchParams(n);return l.set("direction","next"),u.endCursor&&l.set("cursor",u.endCursor),`?${l.toString()}`},[n,u.endCursor]);return {...u,previousPageUrl:c,nextPageUrl:g,nodes:p}}function yr(e,t={pageBy:20}){if(typeof e?.url>"u")throw new Error("getPaginationVariables must be called with the Request object passed to your loader function");let{pageBy:r}=t,n=new URLSearchParams(new URL(e.url).search),o=n.get("cursor")??void 0;return (n.get("direction")==="previous"?"previous":"next")==="previous"?{last:r,startCursor:o??null}:{first:r,endCursor:o??null}}var x=class extends Response{constructor(t,r){super(`Bad request: ${t}`,{status:400});}};var F=`Shopify Hydrogen ${N}`,mr="30243aa5-17c1-465a-8493-944bcc4e88aa";function X(e,t={}){let r=t.headers?new Headers(t.headers):new Headers({});return r.set("location",e),new Response(null,{status:t.status||302,headers:r})}async function hr({session:e,customerAccountId:t,customerAccountUrl:r,origin:n}){let o=new URLSearchParams,s=e.get("refresh_token");if(!s)throw new x("Unauthorized","No refresh_token in the session. Make sure your session is configured correctly and passed to `createCustomerClient`.");o.append("grant_type","refresh_token"),o.append("refresh_token",s),o.append("client_id",t);let a={"content-type":"application/x-www-form-urlencoded","User-Agent":F,Origin:n},i=await fetch(`${r}/auth/oauth/token`,{method:"POST",headers:a,body:o});if(!i.ok){let l=await i.text();throw new Response(l,{status:i.status,headers:{"Content-Type":"text/html; charset=utf-8"}})}let{access_token:p,expires_in:u,id_token:d,refresh_token:c}=await i.json();e.set("customer_authorization_code_token",p),e.set("expires_at",new Date(new Date().getTime()+(u-120)*1e3).getTime()+""),e.set("id_token",d),e.set("refresh_token",c);let g=await we(e,t,r,n);e.set("customer_access_token",g);}function $(e){e.unset("code-verifier"),e.unset("customer_authorization_code_token"),e.unset("expires_at"),e.unset("id_token"),e.unset("refresh_token"),e.unset("customer_access_token"),e.unset("state"),e.unset("nonce");}async function Ae({locks:e,expiresAt:t,session:r,customerAccountId:n,customerAccountUrl:o,origin:s}){if(parseInt(t,10)-1e3<new Date().getTime())try{e.refresh||(e.refresh=hr({session:r,customerAccountId:n,customerAccountUrl:o,origin:s})),await e.refresh,delete e.refresh;}catch(a){throw $(r),a&&a.status!==401?a:new x("Unauthorized","Login before querying the Customer Account API.")}}async function ft(){let e=Cr();return yt(e)}async function gt(e){let t=await crypto.subtle.digest({name:"SHA-256"},new TextEncoder().encode(e)),r=Sr(t);return yt(r)}function Cr(){let e=new Uint8Array(32);return crypto.getRandomValues(e),String.fromCharCode.apply(null,Array.from(e))}function yt(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Sr(e){let t=new Uint8Array(e),r=Array.from(t);return String.fromCharCode(...r)}async function mt(){let e=Date.now().toString(),t=Math.random().toString(36).substring(2);return e+t}async function we(e,t,r,n){let o=t,s=e.get("customer_authorization_code_token");if(!s)throw new x("Unauthorized","No access token found in the session. Make sure your session is configured correctly and passed to `createCustomerClient`.");let a=new URLSearchParams;a.append("grant_type","urn:ietf:params:oauth:grant-type:token-exchange"),a.append("client_id",o),a.append("audience",mr),a.append("subject_token",s),a.append("subject_token_type","urn:ietf:params:oauth:token-type:access_token"),a.append("scopes","https://api.customers.com/auth/customer.graphql");let i={"content-type":"application/x-www-form-urlencoded","User-Agent":F,Origin:n},u=await(await fetch(`${r}/auth/oauth/token`,{method:"POST",headers:i,body:a})).json();if(u.error)throw new x(u.error_description);return u.access_token}function ht(e){return Rr(e).payload.nonce}function Rr(e){let[t,r,n]=e.split("."),o=JSON.parse(atob(t)),s=JSON.parse(atob(r));return {header:o,payload:s,signature:n}}function Z(){return Tr(Ir())}function Ir(){try{return crypto.getRandomValues(new Uint8Array(16))}catch{return new Uint8Array(16).map(()=>Math.random()*255|0)}}function Tr(e){return Array.from(e,function(t){return ("0"+(t&255).toString(16)).slice(-2)}).join("")}var Oe="2024-01";function xr({session:e,customerAccountId:t,customerAccountUrl:r,customerApiVersion:n=Oe,request:o,waitUntil:s}){if(n!==Oe&&console.log(`[h2:warn:createCustomerClient] You are using Customer Account API version ${n} when this version of Hydrogen was built for ${Oe}.`),!o?.url)throw new Error("[h2:error:createCustomerClient] The request object does not contain a URL.");let a=new URL(o.url),i=a.protocol==="http:"?a.origin.replace("http","https"):a.origin,p={},u=void 0;async function d({query:c,type:g,variables:l={}}){let h=e.get("customer_access_token"),y=e.get("expires_at");if(!h||!y)throw new x("Unauthorized","Login before querying the Customer Account API.");await Ae({locks:p,expiresAt:y,session:e,customerAccountId:t,customerAccountUrl:r,origin:i});new Date().getTime();let m=await fetch(`${r}/account/customer/api/${n}/graphql`,{method:"POST",headers:{"Content-Type":"application/json","User-Agent":F,Origin:i,Authorization:h},body:JSON.stringify({operationName:"SomeQuery",query:c,variables:l})});let C=await m.text(),A={response:m,type:g,query:c,queryVariables:l,errors:void 0,client:"customer"};if(!m.ok){let I;try{I=b(C);}catch{I=[{message:C}];}L({...A,errors:I});}try{return b(C)}catch{L({...A,errors:[{message:C}]});}}return {login:async()=>{let c=new URL(r+"/auth/oauth/authorize"),g=await mt(),l=await Z();c.searchParams.set("client_id",t),c.searchParams.set("scope","openid email"),c.searchParams.append("response_type","code"),c.searchParams.append("redirect_uri",i+"/authorize"),c.searchParams.set("scope","openid email https://api.customers.com/auth/customer.graphql"),c.searchParams.append("state",g),c.searchParams.append("nonce",l);let h=await ft(),y=await gt(h);return e.set("code-verifier",h),e.set("state",g),e.set("nonce",l),c.searchParams.append("code_challenge",y),c.searchParams.append("code_challenge_method","S256"),X(c.toString(),{headers:{"Set-Cookie":await e.commit()}})},logout:async()=>{let c=e.get("id_token");return $(e),X(`${r}/auth/logout?id_token_hint=${c}`,{status:302,headers:{"Set-Cookie":await e.commit()}})},isLoggedIn:async()=>{let c=e.get("expires_at");if(!e.get("customer_access_token")||!c)return !1;let g=new Date().getTime();try{await Ae({locks:p,expiresAt:c,session:e,customerAccountId:t,customerAccountUrl:r,origin:i}),u?.(" check expires",g);}catch{return !1}return !0},mutate(c,g){return c=U(c),W(c,"customer.mutate"),d({query:c,type:"mutation",...g})},query(c,g){return c=U(c),j(c,"customer.query"),d({query:c,type:"query",...g})},authorize:async(c="/")=>{let g=a.searchParams.get("code"),l=a.searchParams.get("state");if(!g||!l)throw $(e),new x("Unauthorized","No code or state parameter found in the redirect URL.");if(e.get("state")!==l)throw $(e),new x("Unauthorized","The session state does not match the state parameter. Make sure that the session is configured correctly and passed to `createCustomerClient`.");let h=t,y=new URLSearchParams;y.append("grant_type","authorization_code"),y.append("client_id",h),y.append("redirect_uri",i+"/authorize"),y.append("code",g);let f=e.get("code-verifier");if(!f)throw new x("Unauthorized","No code verifier found in the session. Make sure that the session is configured correctly and passed to `createCustomerClient`.");y.append("code_verifier",f);let m={"content-type":"application/x-www-form-urlencoded","User-Agent":F,Origin:i},C=await fetch(`${r}/auth/oauth/token`,{method:"POST",headers:m,body:y});if(!C.ok)throw new Response(await C.text(),{status:C.status,headers:{"Content-Type":"text/html; charset=utf-8"}});let{access_token:A,expires_in:I,id_token:M,refresh_token:te}=await C.json(),O=e.get("nonce"),v=await ht(M);if(O!==v)throw new x("Unauthorized",`Returned nonce does not match: ${O} !== ${v}`);e.set("customer_authorization_code_token",A),e.set("expires_at",new Date(new Date().getTime()+(I-120)*1e3).getTime()+""),e.set("id_token",M),e.set("refresh_token",te);let H=await we(e,t,r,i);return e.set("customer_access_token",H),X(c,{headers:{"Set-Cookie":await e.commit()}})}}}var Ar="https://raw.githubusercontent.com/Shopify/hydrogen/main/docs/changelog.json";async function wr({request:e,changelogUrl:t}){new URL(e.url).searchParams;return fetch(t||Ar)}var Ct="cartFormInput";function ee({children:e,action:t,inputs:r,route:n}){let o=react$1.useFetcher();return jsxRuntime.jsxs(o.Form,{action:n||"",method:"post",children:[(t||r)&&jsxRuntime.jsx("input",{type:"hidden",name:Ct,value:JSON.stringify({action:t,inputs:r})}),typeof e=="function"?e(o):e]})}ee.INPUT_NAME=Ct;ee.ACTIONS={AttributesUpdateInput:"AttributesUpdateInput",BuyerIdentityUpdate:"BuyerIdentityUpdate",Create:"Create",DiscountCodesUpdate:"DiscountCodesUpdate",LinesAdd:"LinesAdd",LinesRemove:"LinesRemove",LinesUpdate:"LinesUpdate",NoteUpdate:"NoteUpdate",SelectedDeliveryOptionsUpdate:"SelectedDeliveryOptionsUpdate",MetafieldsSet:"MetafieldsSet",MetafieldDelete:"MetafieldDelete"};function br(e){let t={};for(let a of e.entries()){let i=a[0],p=e.getAll(i);t[i]=p.length>1?p:a[1];}let{cartFormInput:r,...n}=t,{action:o,inputs:s}=r?JSON.parse(String(r)):{};return {action:o,inputs:{...s,...n}}}ee.getFormInput=br;var S=`#graphql
  fragment CartApiError on CartUserError {
    message
    field
    code
  }
`,R=`#graphql
  fragment CartApiMutation on Cart {
    id
    totalQuantity
  }
`;function be(e){return async(t,r)=>{let{cartId:n,...o}=r||{},{cartCreate:s}=await e.storefront.mutate(Er(e.cartFragment),{variables:{input:t,...o}});return s}}var Er=(e=R)=>`#graphql
  mutation cartCreate(
    $input: CartInput!
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartCreate(input: $input) {
      cart {
        ...CartApiMutation
        checkoutUrl
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }
  ${e}
  ${S}
`;function Pe(e){return async t=>{let r=e.getCartId();if(!r)return null;let{cart:n}=await e.storefront.query(Ur(e.cartFragment),{variables:{cartId:r,...t},cache:e.storefront.CacheNone()});return n}}var Ur=(e=Lr)=>`#graphql
  query CartQuery(
    $cartId: ID!
    $numCartLines: Int = 100
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cart(id: $cartId) {
      ...CartApiQuery
    }
  }

  ${e}
`,Lr=`#graphql
  fragment CartApiQuery on Cart {
    id
    checkoutUrl
    totalQuantity
    buyerIdentity {
      countryCode
      customer {
        id
        email
        firstName
        lastName
        displayName
      }
      email
      phone
    }
    lines(first: $numCartLines) {
      edges {
        node {
          id
          quantity
          attributes {
            key
            value
          }
          cost {
            totalAmount {
              amount
              currencyCode
            }
            amountPerQuantity {
              amount
              currencyCode
            }
            compareAtAmountPerQuantity {
              amount
              currencyCode
            }
          }
          merchandise {
            ... on ProductVariant {
              id
              availableForSale
              compareAtPrice {
                ...CartApiMoney
              }
              price {
                ...CartApiMoney
              }
              requiresShipping
              title
              image {
                ...CartApiImage
              }
              product {
                handle
                title
                id
              }
              selectedOptions {
                name
                value
              }
            }
          }
        }
      }
    }
    cost {
      subtotalAmount {
        ...CartApiMoney
      }
      totalAmount {
        ...CartApiMoney
      }
      totalDutyAmount {
        ...CartApiMoney
      }
      totalTaxAmount {
        ...CartApiMoney
      }
    }
    note
    attributes {
      key
      value
    }
    discountCodes {
      applicable
      code
    }
  }

  fragment CartApiMoney on MoneyV2 {
    currencyCode
    amount
  }

  fragment CartApiImage on Image {
    id
    url
    altText
    width
    height
  }
`;function De(e){return async(t,r)=>{let{cartLinesAdd:n}=await e.storefront.mutate(Mr(e.cartFragment),{variables:{cartId:e.getCartId(),lines:t,...r}});return n}}var Mr=(e=R)=>`#graphql
  mutation cartLinesAdd(
    $cartId: ID!
    $lines: [CartLineInput!]!
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesAdd(cartId: $cartId, lines: $lines) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }

  ${e}
  ${S}
`;function Ee(e){return async(t,r)=>{let{cartLinesUpdate:n}=await e.storefront.mutate(vr(e.cartFragment),{variables:{cartId:e.getCartId(),lines:t,...r}});return n}}var vr=(e=R)=>`#graphql
  mutation cartLinesUpdate(
    $cartId: ID!
    $lines: [CartLineUpdateInput!]!
    $language: LanguageCode
    $country: CountryCode
  ) @inContext(country: $country, language: $language) {
    cartLinesUpdate(cartId: $cartId, lines: $lines) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }

  ${e}
  ${S}
`;function Ue(e){return async(t,r)=>{let{cartLinesRemove:n}=await e.storefront.mutate(_r(e.cartFragment),{variables:{cartId:e.getCartId(),lineIds:t,...r}});return n}}var _r=(e=R)=>`#graphql
  mutation cartLinesRemove(
    $cartId: ID!
    $lineIds: [ID!]!
    $language: LanguageCode
    $country: CountryCode
  ) @inContext(country: $country, language: $language) {
    cartLinesRemove(cartId: $cartId, lineIds: $lineIds) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }

  ${e}
  ${S}
`;function Le(e){return async(t,r)=>{let n=t.filter((s,a,i)=>i.indexOf(s)===a),{cartDiscountCodesUpdate:o}=await e.storefront.mutate(Nr(e.cartFragment),{variables:{cartId:e.getCartId(),discountCodes:n,...r}});return o}}var Nr=(e=R)=>`#graphql
  mutation cartDiscountCodesUpdate(
    $cartId: ID!
    $discountCodes: [String!]
    $language: LanguageCode
    $country: CountryCode
  ) @inContext(country: $country, language: $language) {
    cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }
  ${e}
  ${S}
`;function Me(e){return async(t,r)=>{let{cartBuyerIdentityUpdate:n}=await e.storefront.mutate(kr(e.cartFragment),{variables:{cartId:e.getCartId(),buyerIdentity:t,...r}});return n}}var kr=(e=R)=>`#graphql
  mutation cartBuyerIdentityUpdate(
    $cartId: ID!
    $buyerIdentity: CartBuyerIdentityInput!
    $language: LanguageCode
    $country: CountryCode
  ) @inContext(country: $country, language: $language) {
    cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }
  ${e}
  ${S}
`;function ve(e){return async(t,r)=>{let{cartNoteUpdate:n}=await e.storefront.mutate(qr(e.cartFragment),{variables:{cartId:e.getCartId(),note:t,...r}});return n}}var qr=(e=R)=>`#graphql
  mutation cartNoteUpdate(
    $cartId: ID!
    $note: String
    $language: LanguageCode
    $country: CountryCode
  ) @inContext(country: $country, language: $language) {
    cartNoteUpdate(cartId: $cartId, note: $note) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }
  ${e}
  ${S}
`;function _e(e){return async(t,r)=>{let{cartSelectedDeliveryOptionsUpdate:n}=await e.storefront.mutate(Fr(e.cartFragment),{variables:{cartId:e.getCartId(),selectedDeliveryOptions:t,...r}});return n}}var Fr=(e=R)=>`#graphql
  mutation cartSelectedDeliveryOptionsUpdate(
    $cartId: ID!
    $selectedDeliveryOptions: [CartSelectedDeliveryOptionInput!]!
    $language: LanguageCode
    $country: CountryCode
  ) @inContext(country: $country, language: $language) {
    cartSelectedDeliveryOptionsUpdate(cartId: $cartId, selectedDeliveryOptions: $selectedDeliveryOptions) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }
  ${e}
  ${S}
`;function Ne(e){return async(t,r)=>{let{cartAttributesUpdate:n}=await e.storefront.mutate($r(e.cartFragment),{variables:{cartId:r?.cartId||e.getCartId(),attributes:t}});return n}}var $r=(e=R)=>`#graphql
  mutation cartAttributesUpdate(
    $cartId: ID!
    $attributes: [AttributeInput!]!
  ) {
    cartAttributesUpdate(cartId: $cartId, attributes: $attributes) {
      cart {
        ...CartApiMutation
      }
      errors: userErrors {
        ...CartApiError
      }
    }
  }
  ${e}
  ${S}
`;function ke(e){return async(t,r)=>{let n=r?.cartId||e.getCartId(),o=t.map(a=>({...a,ownerId:n})),{cartMetafieldsSet:s}=await e.storefront.mutate(Hr(),{variables:{metafields:o}});return {cart:{id:n},errors:s.errors}}}var Hr=()=>`#graphql
  mutation cartMetafieldsSet(
    $metafields: [CartMetafieldsSetInput!]!
    $language: LanguageCode
    $country: CountryCode
  ) @inContext(country: $country, language: $language) {
    cartMetafieldsSet(metafields: $metafields) {
      errors: userErrors {
        code
        elementIndex
        field
        message
      }
    }
  }
`;function qe(e){return async(t,r)=>{let n=r?.cartId||e.getCartId(),{cartMetafieldDelete:o}=await e.storefront.mutate(Qr(),{variables:{input:{ownerId:n,key:t}}});return {cart:{id:n},errors:o.errors}}}var Qr=()=>`#graphql
  mutation cartMetafieldDelete(
    $input: CartMetafieldDeleteInput!
  ) {
    cartMetafieldDelete(input: $input) {
      errors: userErrors {
        code
        field
        message
      }
    }
  }
`;var Gr=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function St(e){let t={},r,n,o=0,s=e.split(/;\s*/g),a,i;for(;o<s.length;o++)if(n=s[o],r=n.indexOf("="),~r){if(a=n.substring(0,r++).trim(),i=n.substring(r).trim(),i[0]==='"'&&(i=i.substring(1,i.length-1)),~i.indexOf("%"))try{i=decodeURIComponent(i);}catch{}Gr.has(n=a.toLowerCase())?n==="expires"?t.expires=new Date(i):n==="max-age"?t.maxage=+i:t[n]=i:t[a]=i;}else (a=n.trim().toLowerCase())&&(a==="httponly"||a==="secure")&&(t[a]=!0);return t}function Rt(e,t,r={}){let n=e+"="+encodeURIComponent(t);return r.expires&&(n+="; Expires="+new Date(r.expires).toUTCString()),r.maxage!=null&&r.maxage>=0&&(n+="; Max-Age="+(r.maxage|0)),r.domain&&(n+="; Domain="+r.domain),r.path&&(n+="; Path="+r.path),r.samesite&&(n+="; SameSite="+r.samesite),(r.secure||r.samesite==="None")&&(n+="; Secure"),r.httponly&&(n+="; HttpOnly"),n}var Vr=e=>{let t=St(e.get("Cookie")||"");return ()=>t.cart?`gid://shopify/Cart/${t.cart}`:void 0};var Br=e=>t=>{let r=new Headers;return r.append("Set-Cookie",Rt("cart",t.split("/").pop()||"",{path:"/",...e})),r};function jr(e){let{getCartId:t,setCartId:r,storefront:n,cartQueryFragment:o,cartMutateFragment:s}=e,a={storefront:n,getCartId:t,cartFragment:s},i=t(),p=be(a),u={get:Pe({storefront:n,getCartId:t,cartFragment:o}),getCartId:t,setCartId:r,create:p,addLines:async(d,c)=>i||c?.cartId?await De(a)(d,c):await p({lines:d},c),updateLines:Ee(a),removeLines:Ue(a),updateDiscountCodes:async(d,c)=>i||c?.cartId?await Le(a)(d,c):await p({discountCodes:d},c),updateBuyerIdentity:async(d,c)=>i||c?.cartId?await Me(a)(d,c):await p({buyerIdentity:d},c),updateNote:async(d,c)=>i||c?.cartId?await ve(a)(d,c):await p({note:d},c),updateSelectedDeliveryOption:_e(a),updateAttributes:async(d,c)=>i||c?.cartId?await Ne(a)(d,c):await p({attributes:d},c),setMetafields:async(d,c)=>i||c?.cartId?await ke(a)(d,c):await p({metafields:d},c),deleteMetafield:qe(a)};return "customMethods"in e?{...u,...e.customMethods??{}}:u}function Yr({handle:e,options:t=[],variants:r=[],productPath:n="products",children:o}){let s=r instanceof Array?r:hydrogenReact.flattenConnection(r),{searchParams:a,path:i,alreadyOnProductPage:p}=Zr(e,n),u=t.filter(d=>d?.values?.length===1);return react.createElement(react.Fragment,null,...react.useMemo(()=>t.filter(d=>d?.values?.length>1).map(d=>{let c,g=[];for(let l of d.values){let h=new URLSearchParams(p?a:void 0);h.set(d.name,l),u.forEach(A=>{h.set(A.name,A.values[0]);});let y=s.find(A=>A?.selectedOptions?.every(I=>h.get(I?.name)===I?.value)),f=a.get(d.name),m=f?f===l:!1;m&&(c=l);let C="?"+h.toString();g.push({value:l,isAvailable:y?y.availableForSale:!0,to:i+C,search:C,isActive:m});}return o({option:{name:d.name,value:c,values:g}})}),[t,s,o]))}var Xr=e=>{if(typeof e?.url>"u")throw new TypeError(`Expected a Request instance, got ${typeof e}`);let t=new URL(e.url).searchParams,r=[];return t.forEach((n,o)=>{r.push({name:o,value:n});}),r};function Zr(e,t){let{pathname:r,search:n}=react$1.useLocation();return react.useMemo(()=>{let o=/(\/[a-zA-Z]{2}-[a-zA-Z]{2}\/)/g.exec(r),s=o&&o.length>0;t=t.startsWith("/")?t.substring(1):t;let a=s?`${o[0]}${t}/${e}`:`/${t}/${e}`;return {searchParams:new URLSearchParams(n),alreadyOnProductPage:a===r,path:a}},[r,n,e,t])}var Tt=react.createContext(void 0),on=Tt.Provider,Fe=()=>react.useContext(Tt);function an(e={}){let t=Z(),r=sn(t,e);return {nonce:t,header:r,NonceProvider:({children:o})=>react.createElement(on,{value:t},o)}}function sn(e,t={}){let r=`'nonce-${e}'`,i=Object.assign({},{baseUri:["'self'"],defaultSrc:["'self'",r,"https://cdn.shopify.com","https://shopify.com"],frameAncestors:["none"],styleSrc:["'self'","'unsafe-inline'","https://cdn.shopify.com"],connectSrc:["'self'","https://monorail-edge.shopifysvc.com"]},t);return i.scriptSrc instanceof Array&&!i.scriptSrc.includes(r)?i.scriptSrc.push(r):i.defaultSrc instanceof Array&&!i.defaultSrc.includes(r)&&i.defaultSrc.push(r),nn__default.default({directives:i})}var pn=react.forwardRef((e,t)=>{let r=Fe();return jsxRuntime.jsx("script",{suppressHydrationWarning:!0,...e,nonce:r,ref:t})});function ln(e){let t=react$1.useFetchers(),r={};for(let{formData:n}of t)if(n?.get("optimistic-identifier")===e)try{if(n.has("optimistic-data")){let o=JSON.parse(String(n.get("optimistic-data")));Object.assign(r,o);}}catch{}return r}function fn({id:e,data:t}){return jsxRuntime.jsxs(jsxRuntime.Fragment,{children:[jsxRuntime.jsx("input",{type:"hidden",name:"optimistic-identifier",value:e}),jsxRuntime.jsx("input",{type:"hidden",name:"optimistic-data",value:JSON.stringify(t)})]})}function hn(e){return jsxRuntime.jsx(hydrogenReact.ShopPayButton,{channel:"hydrogen",...e})}//! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartCreate
//! @see https://shopify.dev/docs/api/storefront/latest/queries/cart
//! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartLinesAdd
//! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartLinesUpdate
//! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartLinesRemove
//! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartDiscountCodesUpdate
//! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartBuyerIdentityUpdate
//! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartNoteUpdate
//! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartSelectedDeliveryOptionsUpdate
//! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartMetafieldsSet
//! @see https://shopify.dev/docs/api/storefront/2023-10/mutations/cartMetafieldDelete

Object.defineProperty(exports, 'AnalyticsEventName', {
  enumerable: true,
  get: function () { return hydrogenReact.AnalyticsEventName; }
});
Object.defineProperty(exports, 'AnalyticsPageType', {
  enumerable: true,
  get: function () { return hydrogenReact.AnalyticsPageType; }
});
Object.defineProperty(exports, 'ExternalVideo', {
  enumerable: true,
  get: function () { return hydrogenReact.ExternalVideo; }
});
Object.defineProperty(exports, 'IMAGE_FRAGMENT', {
  enumerable: true,
  get: function () { return hydrogenReact.IMAGE_FRAGMENT; }
});
Object.defineProperty(exports, 'Image', {
  enumerable: true,
  get: function () { return hydrogenReact.Image; }
});
Object.defineProperty(exports, 'MediaFile', {
  enumerable: true,
  get: function () { return hydrogenReact.MediaFile; }
});
Object.defineProperty(exports, 'ModelViewer', {
  enumerable: true,
  get: function () { return hydrogenReact.ModelViewer; }
});
Object.defineProperty(exports, 'Money', {
  enumerable: true,
  get: function () { return hydrogenReact.Money; }
});
Object.defineProperty(exports, 'ShopifySalesChannel', {
  enumerable: true,
  get: function () { return hydrogenReact.ShopifySalesChannel; }
});
Object.defineProperty(exports, 'Video', {
  enumerable: true,
  get: function () { return hydrogenReact.Video; }
});
Object.defineProperty(exports, 'flattenConnection', {
  enumerable: true,
  get: function () { return hydrogenReact.flattenConnection; }
});
Object.defineProperty(exports, 'getClientBrowserParameters', {
  enumerable: true,
  get: function () { return hydrogenReact.getClientBrowserParameters; }
});
Object.defineProperty(exports, 'getShopifyCookies', {
  enumerable: true,
  get: function () { return hydrogenReact.getShopifyCookies; }
});
Object.defineProperty(exports, 'parseGid', {
  enumerable: true,
  get: function () { return hydrogenReact.parseGid; }
});
Object.defineProperty(exports, 'parseMetafield', {
  enumerable: true,
  get: function () { return hydrogenReact.parseMetafield; }
});
Object.defineProperty(exports, 'sendShopifyAnalytics', {
  enumerable: true,
  get: function () { return hydrogenReact.sendShopifyAnalytics; }
});
Object.defineProperty(exports, 'storefrontApiCustomScalars', {
  enumerable: true,
  get: function () { return hydrogenReact.storefrontApiCustomScalars; }
});
Object.defineProperty(exports, 'useLoadScript', {
  enumerable: true,
  get: function () { return hydrogenReact.useLoadScript; }
});
Object.defineProperty(exports, 'useMoney', {
  enumerable: true,
  get: function () { return hydrogenReact.useMoney; }
});
Object.defineProperty(exports, 'useShopifyCookies', {
  enumerable: true,
  get: function () { return hydrogenReact.useShopifyCookies; }
});
exports.CacheCustom = ce;
exports.CacheLong = ie;
exports.CacheNone = ae;
exports.CacheShort = D;
exports.CartForm = ee;
exports.InMemoryCache = Se;
exports.OptimisticInput = fn;
exports.Pagination = fr;
exports.Script = pn;
exports.Seo = cr;
exports.ShopPayButton = hn;
exports.StorefrontApiError = Ze;
exports.VariantSelector = Yr;
exports.cartAttributesUpdateDefault = Ne;
exports.cartBuyerIdentityUpdateDefault = Me;
exports.cartCreateDefault = be;
exports.cartDiscountCodesUpdateDefault = Le;
exports.cartGetDefault = Pe;
exports.cartGetIdDefault = Vr;
exports.cartLinesAddDefault = De;
exports.cartLinesRemoveDefault = Ue;
exports.cartLinesUpdateDefault = Ee;
exports.cartMetafieldDeleteDefault = qe;
exports.cartMetafieldsSetDefault = ke;
exports.cartNoteUpdateDefault = ve;
exports.cartSelectedDeliveryOptionsUpdateDefault = _e;
exports.cartSetIdDefault = Br;
exports.changelogHandler = wr;
exports.createCartHandler = jr;
exports.createContentSecurityPolicy = an;
exports.createCustomerClient__unstable = xr;
exports.createStorefrontClient = Kn;
exports.createWithCache = eo;
exports.generateCacheControlHeader = _;
exports.getPaginationVariables = yr;
exports.getSelectedProductOptions = Xr;
exports.graphiqlLoader = Jt;
exports.isStorefrontApiError = Bt;
exports.storefrontRedirect = Wt;
exports.useNonce = Fe;
exports.useOptimisticData = ln;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.cjs.map