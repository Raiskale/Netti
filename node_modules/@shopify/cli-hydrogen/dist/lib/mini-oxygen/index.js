export { DEFAULT_INSPECTOR_PORT } from './common.js';
export { buildAssetsUrl } from './assets.js';

async function startMiniOxygen(options, useWorkerd = false) {
  if (useWorkerd) {
    const { startWorkerdServer } = await import('./workerd.js');
    return startWorkerdServer(options);
  } else {
    process.env.MINIFLARE_SUBREQUEST_LIMIT = 100;
    const { startNodeServer } = await import('./node.js');
    return startNodeServer(options);
  }
}

export { startMiniOxygen };
